# HTTP λ©”μ„λ“
<br>

## URI μ„¤κ³„

- URIλ” κ³„μΈµκµ¬μ΅°λ¥Ό ν™μ©ν•΄μ•Όν•λ‹¤
- λ¦¬μ†μ¤λ¥Ό μ‹λ³„ν•΄μ•Ό ν•λ‹¤.

<br>

## λ¦¬μ†μ¤λ€

- νμ›μ„ λ“±λ΅ν•κ³  μμ •ν•κ³  μ΅°νν•λ” κ²ƒμ΄ λ¦¬μ†μ¤κ°€ μ•„λ‹λ‹¤
- λ¦¬μ†μ¤λ” β€νμ›β€ κ·Έ μμ²΄μ΄λ‹¤

<br>

## λ¦¬μ†μ¤ vs ν–‰μ„

| λ¦¬μ†μ¤ | ν–‰μ„ |
| --- | --- |
| νμ› | μ΅°ν, λ“±λ΅, μ‚­μ , λ³€κ²½ |

<br>

## ν–‰μ„λ€

- ν–‰μ„λ€ λ©”μ„λ“μ΄λ‹¤

| Method      | Description |
|--------|---------------|
| GET    | λ¦¬μ†μ¤ μ΅°ν                 |
| POST   | μ”μ²­ λ°μ΄ν„° μ²λ¦¬, μ£Όλ΅ λ“±λ΅μ— μ‚¬μ©   |
| PUT    | λ¦¬μ†μ¤ λ€μ²΄, ν•΄λ‹Ή λ¦¬μ†μ¤ μ—†μ„ μ‹ μƒμ„± |
| PATCH  | λ¦¬μ†μ¤ λ¶€λ¶„ λ³€κ²½              |
| DELETE | λ¦¬μ†μ¤ μ‚­μ                  |
- κΈ°νƒ€ ν–‰μ„(λ©”μ†λ“)
    - HEAD :  GETκ³Ό λ™μΌν•μ§€λ§ λ©”μ‹μ§€(body) λ¶€λ¶„μ„ μ μ™Έν•κ³ , μƒνƒ μ¤„κ³Ό ν—¤λ”λ§ λ°ν™
    - OPTIONS : CORSμ—μ„ μ£Όλ΅ μ‚¬μ©ν•λ” κ²ƒμΌλ΅ λ€μƒ λ¦¬μ†μ¤μ— λ€ν• ν†µμ‹  κ°€λ¥ μµμ…(λ©”μ„λ“)μ„ λ°ν™

```markdown
π’΅ μ•„λ νμ› μ •λ³΄ κ΄€λ¦¬ APIλ¥Ό μμ‹λ΅ λ“¤μ–΄λ³΄μ

- νμ› λ©λ΅ μ΅°ν
	- GET /members

- νμ› μ΅°ν
	- GET /members/100

- νμ› λ“±λ΅ : POST
	- POST /members

- νμ› μμ •
	- PUT /members/100
	- PATCH /members/100

- νμ› μ‚­μ 
	- DELETE /members/100
```

### GET

- λ¦¬μ†μ¤ μ΅°ν
- μ„λ²„μ— μ „λ‹¬ λ°μ΄ν„°λ” μΏΌλ¦¬νλΌλ―Έν„°λ¥Ό ν†µν•΄ μ „λ‹¬
- μµκ·Ό μ¤ν™μ—μ„λ” GET λ„ bodyλ¥Ό ν—μ©ν•΄μ£Όμ§€λ§ μ§€μ›ν•λ” κ³³μ΄ λ§μ§€ μ•μ

### POST

- μƒ λ¦¬μ†μ¤ μƒμ„±(λ“±λ΅)
- ν”„λ΅μ„Έμ¤λ¥Ό μ²λ¦¬ν•΄μ•Ό ν•λ” κ²½μ°
    - λ‹¨μν λ°μ΄ν„° μƒμ„±, λ³€κ²½μ„ λ„μ–΄μ„  ν”„λ΅μ„Έμ¤μ μƒνƒκ°€ λ³€κ²½λλ” κ²½μ°
        - ex) κ²°μ  μ™„λ£ β†’ λ°°λ‹¬μ‹μ‘ β†’ λ°°λ‹¬ μ™„λ£
    - POSTμ κ²°κ³Όλ΅ μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μƒμ„±λμ§€ μ•μ„ μλ„ μμ
- λ‹¤λ¥Έ λ©”μ„λ“λ΅ μ²λ¦¬ν•κΈ° μ• λ§¤ν• κ²½μ°

    ```markdown
    ex) μ΅°νν•κΈ° μ„ν• μ”μ²­ λ°μ΄ν„°λ¥Ό JsonμΌλ΅ λ„κ²¨μ•Ό ν•λ‹¤λ©΄?
    -> GETμ€ bodyλ¥Ό μ§€μ›ν•μ§€ μ•λ” κ³³μ΄ λ§κΈ°λ•λ¬Έμ— μ΄λ° μ• λ§¤ν•  λ•λ” POSTλ¥Ό μ‚¬μ©
    
    ν•μ§€λ§ λ³΄ν†µ μΊμ‹±κ°™μ€ λ¶€κ°€μ μΈ μ²λ¦¬λ” GETμ„ μ΄μ©ν•΄μ„ λ§μ΄ ν•κΈ° λ•λ¬Έμ—
    μ›¬λ§ν•λ©΄ μ΅°νλ” GETμΌλ΅ ν•λ”κ² μ λ¦¬ν•©λ‹λ‹¤
    ```


### PUT

- λ¦¬μ†μ¤λ¥Ό λ€μ²΄ν•λ‹¤
    - λ¦¬μ†μ¤κ°€ μμ„ μ‹ λ€μ²΄
    - λ¦¬μ†μ¤κ°€ μ—†μ„ μ‹ μƒμ„±

    ```markdown
    ex) ν΄λ” λ®μ–΄μ”μ°κΈ°
    ```

- ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ μ„μΉλ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ‹¤ (POST μ™€μ μ°¨μ΄μ )
    - ex) PUT /members/100

### PATCH

- λ¦¬μ†μ¤ λ¶€λ¶„ λ³€κ²½

### DELETE

- λ¦¬μ†μ¤ μ κ±°
- `DELETE /members/100 : 100λ² νμ› μ‚­μ `

<br>

### PUT vs PATCH
`νμ›λ²νΈκ°€ 100λ²μΈ νμ›μ μ •λ³΄λ” μ΄λ ‡λ‹¤κ³  κ°€μ •ν•΄λ³΄μ`

```markdown
username : gibeom
age : 62

-----------------------------------------------------
PUT /members/100
{
	"age" : 26
}

κ²°κ³Ό : /members/100
{
	"age": 26    <-- λ®μ–΄μ”μ›μ Έμ„ usernameμ΄ μ‚¬λΌμ§
}

-------------------------------------------------------
PATCH /members/100
{
	"age" : 26
}

κ²°κ³Ό : /members/100
{
	"username": "gibeom",
	"age": 26
}
```

<br>

## HTTP λ©”μ„λ“μ μ†μ„±

- **μ•μ „(Safe Methods) : νΈμ¶ν•΄λ„ λ¦¬μ†μ¤λ¥Ό λ³€κ²½ν•μ§€ μ•λ”μ§€?**
    - GETμ„ μ μ™Έν• POST, PUT, PATCH, DELETE λ” μ•μ „ν•μ§€ μ•λ‹¤ (λ°μ΄ν„° λ³€κ²½λ•λ¬Έ)
    - μ•μ „μ€ ν•΄λ‹Ή λ¦¬μ†μ¤λ§ κ³ λ ¤ν•κ³  μ™Έλ¶€μ μΈ μ”μΈμ€ κ³ λ ¤ν•μ§€ μ•λ”λ‹¤
- **λ©±λ“±(Idempotent Methods) : ν•λ² νΈμ¶ν•λ“  λ‘ λ² νΈμ¶ν•λ“  100λ² νΈμ¶ν•λ“  κ²°κ³Όλ” λ‘κ°™μ€μ§€?**
    - POST, PATCHλ¥Ό μ μ™Έν•κ³ λ” λ‚λ¨Έμ§€λ” λ‹¤ λ©±λ“±ν•λ‹¤ (POSTλ” μ¤‘λ³µ κ²°μ  κ°€λ¥)
    - λ©±λ“±μ€ μ™Έλ¶€ μ”μΈμΌλ΅ μ¤‘κ°„μ— λ¦¬μ†μ¤κ°€ λ³€κ²½λλ” κ²ƒ κΉμ§€λ” κ³ λ ¤ν•μ§€ μ•μ
    - λ©±λ“±ν•κ²½μ°μ—λ” μλ™ λ³µκµ¬ λ©”μ»¤λ‹μ¦μ„ ν™μ©ν•μ—¬ μ„λ²„κ°€ Timeout λ–΄μ„λ• ν΄λΌμ΄μ–ΈνΈκ°€ κ°™μ€ μ”μ²­μ„ μ‹λ„ν•¨
- **μΊμ‹κ°€λ¥(Cacheable Methods) : μ‘λ‹µ κ²°κ³Ό λ¦¬μ†μ¤λ¥Ό μΊμ‹ν•΄μ„ μ‚¬μ©ν•΄λ„ λλ”μ§€?**
    - λ³΄ν†µ GET, HEAD μ •λ„λ΅λ§ μΊμ‹λ΅ μ‚¬μ©

        ```markdown
        μΊμ‹λ¥Ό ν•λ ¤λ©΄ λ‘κ°™μ€ λ¦¬μ†μ¤λΌλ” ν‚¤κ°€ λ§μ•„μ•Ό ν•λ‹¤
        ν•μ§€λ§ POST, PATCHλ” λ³Έλ¬Έ λ‚΄μ©κΉμ§€ μΊμ‹ ν‚¤λ΅ κ³ λ ¤ν•΄μ•Ό ν•λ”λ° κµ¬ν„μ΄ μ‰½μ§€ μ•λ‹¤
        ```

<br>


## ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅ λ°©λ²•

### μΏΌλ¦¬ νλΌλ―Έν„°

- GET μ— μ‚¬μ©
- μ£Όλ΅ μ •λ ¬ ν•„ν„° (κ²€μƒ‰μ–΄)

### λ©”μ‹μ§€ λ°”λ””

- POST, PUT, PATCH
- νμ›κ°€μ…, λ¦¬μ†μ¤ λ“±λ΅ λ° λ³€κ²½, μ£Όλ¬Έ λ“±

<br>

## μ „μ†΅ 4κ°€μ§€ μƒν™©

### 1. μ •μ  λ°μ΄ν„° μ΅°ν

- μ΄λ―Έμ§€, μ •μ  ν…μ¤νΈ λ¬Έμ„ λ“±
- μ”μ²­ λ°μ΄ν„°λ” λ”°λ΅ μ—†κ³  λ¦¬μ†μ¤ pathλ§ μμΌλ©΄ λ¨

### 2. λ™μ  λ°μ΄ν„° μ΅°ν

- μ£Όλ΅ κ²€μƒ‰μ–΄
- μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν•΄ μ”μ²­ λ°μ΄ν„° μ „μ†΅

### 3. HTML Form λ°μ΄ν„° μ „μ†΅

```html
<form action="/save" method="post">
	<input type="text" name="username" />
	<input type="text" name="age" />
	<button type="submit">μ „μ†΅</button>
</form>
```

- acton : PATH
- method : **GET, POSTλ§ κ°€λ¥**
  - AJAX κ°™μ€ κΈ°μ μ„ μ‚¬μ©ν•΄μ„ ν•΄κ²° κ°€λ¥
- Content-Type: application/x-www-form-urlencoded μ΄ Default

| GET | POST |
| --- | --- |
| name κ°’λ“¤μ΄ μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ‹΄κΈ΄λ‹¤ | bodyμ— JSON ν•νƒλ΅ λ‹΄κΈ΄λ‹¤ |

### 4. HTTP API λ°μ΄ν„° μ „μ†΅

- λ¨λ“  λ©”μ„λ“ μ‚¬μ© κ°€λ¥ (GET, POST, PUT, PATCH, DELETE)
- μ„λ²„ to μ„λ²„, μ•± ν΄λΌμ΄μ–ΈνΈ, μ›Ή ν΄λΌμ΄μ–ΈνΈ λ“±κ³Ό ν†µμ‹ ν• λ• μ‚¬μ©
- Content-Type: application/jsonμ„ μ£Όλ΅ μ‚¬μ© (μ‚¬μ‹¤μƒ ν‘μ¤€)
  - μΆ…λ¥ : TEXT, XML, JSON λ“±

<br>

## HTTP API μ„¤κ³„ μμ‹

### POST vs PUT (μ»¬λ ‰μ… vs μ¤ν† μ–΄)

| POST κΈ°λ° λ“±λ΅ (μ»¬λ ‰μ…)          | PUT κΈ°λ° λ“±λ΅ (μ¤ν† μ–΄) |
|---------------------------|--------------------------|
| μ„λ²„κ°€ μƒλ΅ λ“±λ΅λ λ¦¬μ†μ¤ URIλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤ | ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ λ¦¬μ†μ¤μ URIλ¥Ό μ§€μ •ν•λ‹¤ |


| μ»¬λ ‰μ… | μ¤ν† μ–΄ |
| --- | --- |
| μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν† λ¦¬ | ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ μ €μ¥μ† |
| μ„λ²„κ°€ λ¦¬μ†μ¤μ URIλ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ | ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URIλ¥Ό μ•κ³  κ΄€λ¦¬ |

### μ»¨νΈλ΅¤ URI

- HTML Formμ—μ„λ” GET, POSTλ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μλ‹¤
- λν• λ¬Έμ„, μ»¬λ ‰μ…, μ¤ν† μ–΄λ΅ ν•΄κ²°ν•κΈ° μ–΄λ ¤μ΄ μ¶”κ°€ ν”„λ΅μ„Έμ¤ μ‹¤ν–‰ μ‹ μ‚¬μ©
  - μµλ€ν• λ¦¬μ†μ¤λ¥Ό ν™μ©ν•μ—¬ μ„¤κ³„λ¥Ό ν•΄λ³΄κ³  μ•λ  κ²½μ°μ— μ»¨νΈλ΅¤ URIλ¥Ό μ‚¬μ©
- λ”°λΌμ„ μ΄λ° μ μ•½λ“¤μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ URIμ— **λ™μ‚¬λ΅ λ λ¦¬μ†μ¤ κ²½λ΅**λ¥Ό μ‚¬μ©

```markdown
π’΅ μμ‹λ¥Ό λ“¤μ–΄λ³΄μ

νμ› μ‚­μ 
POST /members/{id}/**delete**
```