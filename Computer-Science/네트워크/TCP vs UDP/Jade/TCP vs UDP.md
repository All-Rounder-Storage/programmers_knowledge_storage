# TCP vs UDP

```
TCP 와 UDP는 OSI 표준모델과 TCP/IP 모델의 전송 계층 (Transport Layer)에서
**데이터를 보내기 위해 사용되는 프로토콜** 이다
```

- 전송 계층은 송신자와 수신자를 연결하는 통신 서비스를 제공하고 IP에 의해 전달되는 패킷의 오류를 검사하며 재전송 요구 제어등을 담당하는 계층이다. 즉, **송신자와 수신자를 연결하여 신뢰성 있는 데이터를 전송할 수 있게 해주는 계층이다**

[tcp:ip&osi 사진]

<br>

## TCP (Transmission Control Protocol)

[tcp 사진]

- 데이터를 메세지 형태로 보내기 위하여 IP와 함께 사용하는 프로토콜이다
    - IP: 데이터의 배달을 처리한다
    - TCP: 패킷을 추적 및 관리한다
- TCP는 `연결형 서비스`로서 연결이 성공해야 통신이 가능하고 상대가 데이터를 받았는지 확인하면서 통신한다 (가상 회선 방식을 제공한다)
    - 높은 신뢰성을 보장하여 연속성보다는 신뢰성있는 전송이 중요할 때 사용된다 (예를들어, 파일전송과 같은 데이터를 누락시키고 싶지 않은 서비스)
    - 3-way handshaking 을 통해 연결을 설정하고 4-way handshaking 을 통해 해제한다
- 데이터 흐름 제어 및 혼잡 제어를 제공한다
    - 데이터 흐름 제어 : 데이터를 송신하는 곳과 수신하는 곳의 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지힌다 (송신하는 곳에서 감당이 안되게 많은 데이터를 빠르게 보내는 것을 막는다)
    - 혼잡 제어 : 패킷 수가 과도하게 증가하는 현상을 방지한다 (패킷 수가 과다하면 패킷을 조금만 전송하여 혼잡 붕괴 현상이 일어나는 것을 막는다)
- 전이중(Full-Duplex), 점대점(Point to Point) 방식이다.
    - 전이중 (Full-Duplex) : 전송이 양방향으로 동시에 일어날 수 있다
    - 점대점 (Point to Point) : 각 연결이 정확히 2개의 종단점을 가지고 있다

<br>

### TCP 서버의 특징

---

1. 서버소켓은 연결만을 담당한다
2. 서버와 클라이언트는 1대 1로 연결된다
3. 스트림 전송으로 데이터의 크기가 무제한이다
4. 각 데이터 전송에 대한 응답을 해야하기 때문에 (시간지연, CPU 소모) 성능이 낮다

<br>

## UDP (User Datagram Protocol)

[udp 사진]

- 데이터를 데이터그램 (독립적인 관계를 지니는 패킷) 단위로 처리하는 프로토콜이다
- UDP는 `비연결형 서비스`로서 연결 없이 통신이 가능하며 상대가 데이터를 받았는지 확인하지 않고 일방적으로 통신한다 (데이터 전송을 보장하지 않는다)
    - 신뢰성은 떨어지나 빠른 전송이 가능하며 네트워크 부화가 적다 (예를 들어, 신속성보다 연속성이 중요한 실시간 서비스(streaming))
    - 연결을 위해 할당되는 논리적인 경로가 없기 때문에 각각의 패킷은 다른 경로로 전송되고, 각각의 패킷은 독립적인 관계를 지니게 된다
- 정보를 주고받을 때 정보를 보내거나 받는다는 신호 절차를 거치지 않는다
- UDP 헤더의 CheckSum 필드를 통해 최소한의 오류만 검출한다

<br>

### UDP 서버의 특징

---

1. 연결이 존재하지 않기 때문에 서버 소켓과 클라이언트 소켓의 구분이 없다. 소켓 대신 IP 를 기반으로 데이터를 전송한다
2. 서버와 클라이언트는 1대 1, 1대 N, N대 M 등으로 연결된다
3. 데이터 그램 (메시지) 단위로 데이터가 전송되며 크기는 65535 바이트이고, 크기가 초과하면 잘라서 보낸다
4. 데이터 흐름 제어가 없어 데이터가 제대로 전송 되었는지, 오류의 여부를 확인할 수 없다

<br>

## TCP 와 UDP

| 공통점 | TCP & UDP |
| --- | --- |
|  | 1. 포트 번호를 이용하여 주소를 지정한다 <br> 2. 데이터 오류 검사를 위한 CheckSum이 존재한다 |

| 차이점 | TCP | UDP |
| --- | --- | --- |
| 연결 방식 | 연결형 | 비연결형 |
| 패킷 교환 방식 | 가상 회선 방식 | 데이터그램 방식 |
| 전송 순서 | 보장 | 순서 보장 안됨 |
| 수신 여부 확인 | 수신 여부 확인 | 수신 여부 확인 안함 |
| 통신 방식 | 1:1 | 1:1 / 1:N / 1:M |
| 신뢰성 | 높음 | 낮음 |
| 속도 | 느림 | 빠름 |

<br>

---

### Reference

- [[TCP/UDP] TCP와 UDP의 특징과 차이](https://mangkyu.tistory.com/15)
- [[Network] TCP / UDP의 개념과 특징, 차이점](https://coding-factory.tistory.com/614)