## 1. URL 에 www.example.com 을 쳤을 때 일어나는 일들을 설명해주세요

- URL을 입력받은 브라우저는 URL의 구조를 해석합니다. www.example.com 에서 어떤 프로토콜을 통해 URL에 요청을 보낼지, 어떤 URL로 요청할지, 어떤 포트로 요청할지에 대한 정보를 얻게됩니다.
- 만약 브라우저 캐시에 해당 URL이 존재하지 않다면 DNS(Domain Name System) 서버에서 해당 URL의 IP 주소를 받아옵니다.
- 올바른 IP 주소를 받게되면 IP 주소의 서버와 통신하기 위한 연결을 요청합니다.
  - 연결은 TCP/IP 3-way handshake과정을 통해 만들어지는데 클라이언트와 서버가 연결 하기 위해서 SYN, ACK 메세지를 교환하는 과정입니다.
- 3-way handshake 가 성공적으로 이뤄지면 보내는 브라우저의 port 번호, 목적지 port 번호등을 담은 TCP 세그먼트를 만들어 네트워크 계층에 보냅니다.
- 네트워크 계층에서 TCP 세크먼트에 IP 주소를 붙여 패킷을 생성하고 라우터의 라우팅을 통해 목적지의 게이트웨이까지 이동합니다.
- 데이터 링크 계층에서는 IP 주소를 물리 주소인 MAC 주소로 변환해야 하기 때문에 ARP를 통해 IP주소를 MAC주소로 변환합니다. 또한, 데이터에 출발지와 목적지 맥주소등을 포함한 프레임 형태로 만들어서 물리계층으로 전달합니다.
- 물리 계층에서는 데이터를 아날로그 신호로 변환하여 목적지로 전달합니다.
- 목적지에 정보가 도착하면 역캡슐화 과정이 일어나며서 물리 계층에서부터 응용 계층으로 데이터가 올라가게 되고 응용계층을 통해 HTML이 보여지게 됩니다.

## 2. 사용자가 웹 브라우저를 통해 서버에 이미지를 요청해서 사용자에게 보여주기까지 과정을 설명해주세요

- 위의 질문과 같은 맥락이라 생각하여 답변은 생략합니다.

## 3. 3-Way handshake & 4-Way handshake 에 대해 간략하게 설명해주세요

- 3-Way handshake는 TCP/IP 프로토콜을 이용하여 통신을 하게 되는 경우 데이터의 정확한 전송을 위해 양쪽 모두 데이터를 전송할 준비가 됐는지 확인하는 과정입니다.
    - A 클라이언트는 B 서버에 접속을 요청하는 SYN 패킷을 보내게 되는데 이때 A 클라이언트는 SYN 을 보내고 SYN/ACK 응답을 기다리는 SYN_SENT 상태, B 서버는 Wait for Client 상태입니다.
    - B 서버는 A 클라이언트의  SYN요청을 받고 요청을 수락한다는 ACK 와 SYN이 설정된 패킷을 발송하고 A의 응답을 기다리게 되는데 이때 B 서버는 SYN_RECEIVED 상태가 됩니다.
    - A 클라이언트는 B 서버에게 ACK을 보내게 되고 연결에 성공하게 되면 B 서버는 ESTABLISHED 상태가 됩니다.

- 3-Way handshake가 TCP 연결을 위한 절차라면 4-Way handshake는 세션을 종료하기 위해 수행되는 절차입니다.
    - A 클라이언트가 연결을 종료하겠다는 FIN플래그를 전송하며 이때 A 클라이언트는 FIN-WAIT 상태가 됩니다.
    - B 서버는 A 클라이언트의 FIN플래그를 받고 응답으로 ACK을 보내게 되고 자신의 통신이 끝날때까지 기다리는데 B 서버는 이 때 CLOSE_WAIT 상태입니다.
    - B 서버의 통신이 끝나게 되고 연결을 종료할 준비가 되면 연결해지를 위한 준비가 되었음을 알리기 위해 A 클라이언트에게 FIN플래그를 전송합니다. 이때 B 서버의 상태는 LAST-ACK 입니다.
    - A 클라이언트는 해지준비가 되었다는 ACK을 확인했다는 메시지를 보내며 A 클라이언트의 상태가 FIN-WAIT에서 TIME-WAIT 으로 변경됩니다.

* A 클라이언트는 B 서버에서 FIN을 전송하기 전에 전송한 패킷이 Routing 지연이나 패킷 유실로 인한 재전송 등으로 인해 FIN보다 늦게 도착하는 상황을 대비하기 위해 B 서버로부터 FIN을 수신하더라도 일정시간동안 세션을 남겨놓고 잉여 패킷을 기다리는 과정을 거치게 되는데 이러한 상태를 **TIME-WAIT**이라 합니다.
* 일정시간이 지나고 나면 세션을 만료하고 연결을 종료시키며 A 클라이언트는 CLOSE 상태로 변화하게 됩니다. 
