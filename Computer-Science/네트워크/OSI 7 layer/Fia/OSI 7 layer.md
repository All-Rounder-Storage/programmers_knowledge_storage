# OSI 7 LAYER

## 이게 뭔가요 ?
- Open System Interconnection 의 약자, 국제 표준 기구 ISO 에서 만든 계층을 의미 함

- 네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 나누어 계층 간 동작하는 방식을 나타낸 표준 네트워크 모델

- 각 계층은 모듈화 되어 독립적으로 작동이 가능하고, 이로 인해 계층 별로 수정이 수월

## 왜 7가지 계층으로 나누었나요 ?
1. 네트워크 통신의 흐름을 한 눈에 알아보고, 인간이 이해하기 수월하기 때문

2. 통신이 일어나는 과정을 단계별로 파악할 수 있기 때문

3. 문제 발생 시 속한 단계를 파악하고 해당 계층에서의 문제를 해결하면 다른 계층의 SW 나 장비의 결함 발생을 의심하지 않을 수 있고, 불필요한 수정을 피할 수 있다.

## 7계층의 종류

### Physical Layer 
> 1계층 물리 계층

`개념`

- 실 기기를 연결하기 위한 전기적, 물리적 세부 사항을 정의한 계층

- 통신 단위 는 비트를 사용하고 1, 0 으로 나타내어지는 전기신호를 통신케이블을 이용해 데이터를 전송

- 대표적인 장비는 통신 [케이블, 리피터, 라우터, 허브](#케이블-리피터-라우터-허브) 등이 있고, 이를 이용해 데이터를 전송

`특징`

- 데이터를 전달만 할 뿐 데이터의 결함, 에러 여부 등은 확인하지 않는다.

### DataLink Layer
> 2계층 데이터 링크 계층 

`개념`

- 물리 계층을 통해 송수신 되는 정보의 흐름, 오류를 관리하여 안전한 정보 전달을 수행 할 수 있도록 하는 계층

- 장치간 신호를 전달하는 물리 계층을 이용하여, 네트워크 상에 있는 주변 장치 들 사이의 데이터를 전송하는 역할

- 맥 주소를 가지고 통신, 전송되는 단위를 프레임이라 칭함

- 대표적인 장비는 [브릿지, 스위치](#브릿지-스위치) 등이 존재


`특징`

- 신뢰성 있는 전송을 보장하기 위한 계층으로, 물리 계층에서 발생할 수 있는 오류를 찾아내고 수정에 필요한 기능적, 절차적 수단을 제공

- 프레임에 주소를 부여(MAC 주소)하고 에러 검출 / 재전송 / 흐름 제어 를 관리
  
- Point To Point 간 신뢰성 있는 전송을 보장하기 위한 계층으로 [CRC](#CRC) 기반의 오류 제어와 흐름 제어의 동작을 함
  
- 가장 잘 알려진 예는 [이더넷](#이더넷)이며, 이 외에도 [HDLC, ADCCP 같은 point To point 프로토콜](#HDLC-ADCCP), [패킷 스위칭 네트워크](#패킷-스위칭-네트워크), [LLC](#LLC), [ALOHA](#ALOHA) 같은 근거리 네트워크 용 프로토콜 이 존재함


### Network Layer
> 3계층 네트워크 계층

`개념`

- 경로를 선택, 주소 지정, 경로에 따라 패킷을 전달 해주는 과정을 수행하는 계층
    - 여러 개의 노드를 거칠 때 마다 경로를 찾아주는 역할

- **데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능([라우팅](#라우팅))을 함**

- 다양한 길이의 데이터를 전달, 전송 계층이 요구하는 서비스 품질 만족을 위한 기능적, 절차적 수단 제공

- IP 주소부여 , 경로 설정 을 담당함

`특징`

- 사용되는 프로토콜과 라우팅 기술이 다양함

- [라우팅](#라우팅), [흐름 제어](#흐름-제어), [오류 제어](오류-제어), [segmentation](#segmentation), [interNetworking](#internetworking) 등을 수행한다.

- 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며, 계층적임

- 데이터를 연결하는 다른 네트워크를 통해 전달해 인터넷이 가능하게 만드는 계층


### Transmission Control Layer
> 4계층 전송 계층

`개념`

- 통신을 활성화 하기 위한 계층, 보통 [TCP 프로토콜](#TCP)을 이용

- 포트를 열어서 응용프로그램들이 전송을 할 수 있도록 함

- 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송함

- 오류 검출, 복구, 흐름 제어, 중복 검사 등을 수행 

`특징`

- 양 끝단의 사용자들이 신뢰성 있는 데이터를 주고 받을 수 있도록 해주기에, 상위 계층들이 데이터 전달의 효율성, 유효성을 생각하지 않아도 됨
  
- [시퀀스 넘버 기반의 오류 제어 방식 사용](#시퀀스-넘버-기반의-오류-제어-방식-사용)

### Session Layer
> 5계층 세션 계층

`개념`

- 데이터가 통신하기 위한 논리적인 연결 을 해당 계층에서 동작시킴

- TCP/IP 세션을 만들고 없애는 책임을 가지고 있음 

- 세션 설정, 유지, 종료, 전송 중단 시 복구 등의 기능이 있음 

`특징`

- 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공함
    - [반이중 방식(half-duplex)](#half-duplex)
    - [전이중 방식(full Duplex)](#full-duplex)
    
### 6계층 표현 계층 (Presentation Layer)

`개념`

- 코드 간의 번역을 담당, 사용자 시스템에서 데이터의 형식 상 차이를 다루는 계층

- 데이터의 유형을 분리하는 계층 (ex. text, png, pdf, gif 등 구분)

- 사용자의 명령어를 완성하고, 결과를 표현함

`특징`

-  응용 프로그램이나 네트워크를 위해 데이터를 표현 하는 것
        - ex. [EBCDIC](#EBCDIC) 인코딩 문서를 [ASCII](#ASCII) 로 인코딩 된 파일로 바꿔주는 것

### 7계층 응용 계층
> Application Layer

`개념`

- 최종 사용자에게 가장 가까운 계층

- 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행하는 계층

- 네트워크 SW 의 UI 적인 부분, 사용자의 I/O

- [주요 프로토콜](#ftp)
    - FTP
    - Telnet
    - SMTP
    - DNS
    - TFTP
    - HTTP
    - POP3
    - RPC
    - NetBIOS
    - IMAP
    - SNMP

`특징`

- 사용자와 직접적으로 상호작용 하는 계층


## 개념 정리 ZONE
> 이번 주제는 세세한 개념이 많아 따로 정리를 진행

### 케이블 리피터 라우터 허브
- 케이블 : 통신을 위한 광섬유 전선
- 리피터 : 신호를 수신하여 신호를 증폭한 후 다음 구간으로 재전송하는 장치
- 라우터 : IP 주소 등과 같은 레이어 3에 있는 주소를 참조하여 네트워크 주소가 서로 다른 장비를 연결할 때 사용하는 장치
- 허브 : 다수의 pc 와 장치를 연결해 네트워크를 만들어 주는 장치

- [관련 본문으로 돌아가기](#physical-layer)

### 브릿지 스위치
- 브릿지 : 허브보다 한 등급 위의 장비로 허브는 나눌 수 없는 콜리전 도메인을 나눠주는 역할
    - A,B,C,D 컴퓨터가 있다고 가정, 허브로 연결된 상태에선 A<->B 통신 중에는 그 순간엔 다른 PC와 통신이 불가하게 되는데 이러한 상황을 해결해주는게 브릿지
    - 콜리전 도메인 이란 ? : 메세지 전송시 충돌이 일어나는 영역
        - ex. A 가 메세지를 보내는 중에 B,C,D 중 하나가 메세지 전송을 하면 충돌이 발생

- 스위치 : 맥주소와 포트번호가 기록된 맥 주소 테이블을 가지고 있는 장비로 **목적지 맥 주소를 가진 장비가 연결된 포트로만 프레임을 전송**하게 하는 장비

- [브릿지, 스위치 동작 방식의 자세한 설명](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=shheroes&logNo=220413412117)

- [관련 본문으로 돌아가기](#2---)

### CRC
- **cyclic redundancy check - 순환 중복 검사**
- 네트워크 통신을 통한 데이터 전송 시 데이터의 오류 확인을 위한 체크 값을 결정하는 방식
    - CRC 자체는 수학적인 연산 방법에 기반한다.
    - 방식
        1. 이를 이용하여 데이터를 보내기 전 데이터 값에 따라 CRC 를 계산하고 데이터에 붙여서 전송합니다.
        2. 수신 받은 측에서는 데이터 + CRC 값을 Divisor 이용하여 나누어 데이터에 오류가 있는지 확인 합니다.
              - 나머지가 zero -> 데이터 정상 수신
              - 나머지가 Non zero -> 에러 발생 간주
              - 참고자료 : [CRC 자세한 설명](http://blog.skby.net/%EC%88%9C%ED%99%98-%EC%A4%91%EB%B3%B5-%EA%B2%80%EC%82%AC-crc-cyclic-redundancy-check/)

- [관련 본문으로 돌아가기](#2----datalink-layer)

### 이더넷
- 컴퓨터 네트워크 기술의 하나로 LAN 에서 가장 많이 활용되는 기술 규격
    - 네트워크에 연결된 각 기기들이 48비트 길이의 고유 맥 주소를 가지고, 상호 간에 데이터를 주고 받을 수 있도록 만들어짐

- [관련 본문으로 돌아가기](#2----datalink-layer)    

### HDLC ADCCP
- HDLC(High-level Data Link Control)
    - 동기식 고속 데이터 전송을 능률적으로 실행하기 위한 제어 방식
    - 점대점, 다중점 링크 상 에서 반이중, 전이중 통신을 모두 지원하도록 설계되었음
    - CRC 에 의한 오동작을 제어하고 있어서 신뢰성이 높음
    - [동작 방식의 자세한 설명](https://copycode.tistory.com/79)
    
- ADCCP(Advanced Data Communication Control Procedures)
    - 비트 지향 데이터 링크 계층 프로토콜
    - HDLC 와 기능적으로 동일하지만, ADCCP 에는 REST 프레임이 포함 되어 있고 번호가 없는 형식인 점이 차이점 이다.

- [관련 본문으로 돌아가기](#2----datalink-layer)

### 패킷 스위칭 네트워크
- 송신 측에서 모든 메세지를 일정한 크기의 패킷으로 나누어 전송하고, 수신 측에서 이를 원래의 메세지로 조립 하는 개념
    - 전송 시에는 네트워크 상태에 따라 다른 경로로 보내게 됨
    - 데이터 그램 방식, 가상 회선 방식 2가지가 존재

- [관련 본문으로 돌아가기](#2----datalink-layer)

### LLC
- Logical Link Control(논리 링크 제어)의 약어로 데이터 링크 계층 내 LAN 프로토콜에 관련된 부계층 중 하나
    - 여러 다양한 매체 접속 제어 방식 간의 차이를 보완해주는 역할
    - [더 자세한 개념 설명](http://www.ktword.co.kr/test/view/view.php?m_temp1=113)

- [관련 본문으로 돌아가기](#2----datalink-layer)

### ALOHA
- 하와이 대학교에서 개발된 컴푸터 네트워킹 시스템으로 무선 패킷 데이터 네트워크를 최초로 입증
- 시분할 다중 접속 기술을 사용해 위성-지구 사이의 무선 전송을 하는 프로토콜

- [관련 본문으로 돌아가기](#2----datalink-layer)

### 라우팅
- 어떤 네트워크 내에서 데이터를 최적의 경로를 선택하는 과정을 뜻 함
    - 최적의 경로는 최단거리 일수도, 가장 빠른 시간일 수도 있음
    - 패킷, 네트워크 주소(목적지 주소), 매트릭(목적지 주소까지의 소모비용), 다음 게이트 웨이(패킷을 전송할 다음 주소), 인터페이스(다음 게이트 웨이가 존재하는 인터페이스)로 구성 되어짐
- [관련 본문으로 돌아가기](#3---network-layer)

### 흐름 제어
- 송신 측이 수신 측의 처리 속도 보다 더 빨리 데이터를 보내지 못하도록 제어 해주는 것
    - 수신측에서 송신 측의 발송 데이터 양 혹은 속도를 제한(송신 측 억제로 이를 이용할 경우 데이터 넘침을 송신 측에 통보하는 피드백 메커니즘 필요)
    - [더 자세한 개념 설명](http://www.ktword.co.kr/test/view/view.php?m_temp1=392)
    
- [관련 본문으로 돌아가기](#3---network-layer)

### 오류 제어
- 데이터 전송 중 발생되는 에러를 검출하고 보정하는 메커니즘
    - [더 자세한 개념 설명](http://www.ktword.co.kr/test/view/view.php?nav=2&no=1299&sh=%EC%98%A4%EB%A5%98+%EC%A0%9C%EC%96%B4)

- [관련 본문으로 돌아가기](#3---network-layer)

### segmentation
- 네트워크를 여러개의 세그먼트나 서브넷으로 나누는 아키텍처 방식, 나눠진 각각이 소규모 네트워크의 역할을 함
    - 네트워크 관리자는 트래픽 흐름을 제어할 수 있음
    - 보안이 강화
    
- [관련 본문으로 돌아가기](#3---network-layer))

### interNetworking
- 2개 이상의 서로 다른 네트워크간 통신이 가능하도록 하는 개념
    - 여러 네트워크 계층 위에서 표준화를 따르도록 해 서로 다른 네트워크 간 통신 지원

- [관련 본문으로 돌아가기](#3---network-layer)

### TCP
- Transmission Control Protocol 의 약어로 서버와 클라이언트 간에 데이터를 신뢰성 있게 전달하기 위해 만들어진 프로토콜
  
- [관련 본문으로 돌아가기](#4---transmission-control-layer)

### 시퀀스 넘버 기반의 오류 제어 방식 사용
- 데이터의 송수신을 한번에 하지 않고 패킷 단위로 작업하는 과정에서, 데이터의 순서 보장이나 중복 제거를 위해 시퀀스를 사용하는 방식을 이용하는 통신 개념
    - ex. TCP 패킷 헤더에 seq & ack 값 추가

- [관련 본문으로 돌아가기](#4---transmission-control-layer)

### half duplex
- 반이중 방식
- 한쪽이 송신하는 동안 다른 쪽에서 수신하는 통신 방식으로, 전송 방향을 교체
    ex. master/slave 센서 네트워크

### full duplex
- 전이중 방식
- 2 대의 단말기가 데이터를 송수신 하기 위해 각각 독립된 회선을 사용하는 통신 방식
    - 전화망, 고속 데이터 통신
  
- [관련 본문으로 돌아가기](#5---session-layer)

### EBCDIC
- 8 비트 문자열 인코딩 방식

### ASCII
- 7비트 문자열 인코딩 방식

- [관련 본문으로 돌아가기](#6---presentation-layer)

### FTP
-  File Transfer Protocol 의 약자로 인터넷을 통해 파일을 전송하는 프로토콜

### Telnet
- 사용자의 컴퓨터에서 네트워크를 이용해 원격지에 떨어져 있는 서버에 접속하여 자료를 교환할 수 있는 프로토콜

### SMTP
- Simple Mail Transfer Protocol (간이 전자 우편 전송 프로토콜) 의 약어로 인터넷에서 이메일을 보내기 위해 이용되는 프로토콜

### DNS
- Domain Name System 사람이 읽을 수 있는 도메인 이름을 기계가 읽을 수 있는 IP 주소로 변환하는 시스템

### TFTP
- Trivial File Transfer Protocol 의 약자로 FTP 보다 훨씬 간단한 파일 전송 프로토콜

### HTTP
- Hypertext Transfer Protocol 의 약자로 html 같은 하이퍼 미디어 문서 전송, 브라우저<->서버 통신 등에 사용되는 프로토콜

### POP3
- 일방향 전자 메일 동기화만 지원되도록 설계된 프로토콜
    - 사용자는 서버에서 클라이언트로 전자 메일 다운로드만 허용됨

### RPC
- remote procedure call 의 약자로 별도의 원격 제어를 위한 코딩 없이 다른 주소 공간에서 함수나 프로시저를 실행할 수 있게 하는 통신 기술

### NetBIOS
- 네트워크 통신을 위한 기본적인 명령어 세트로 동일한 네트워크에 연결된 여러 대의 컴퓨터 간에 기본적인 통신을 할 수 있음

### IMAP
- Internet Messaging Access Protocol 의 약어로 어디서나 모든 장치에서 전자 메일에 접근 할 수 있음
    - 이를 이용하여 접근하면 실제로 컴퓨터에 다운로드 하지 않고 전자 메일 서비스에서 읽게 됨
    
### SNMP
-  Simple Network Management Protocol(간이 망 관리 프로토콜)의 약어로 UDP / IP 를 사용하여 이더넷 연결을 통해 네트워크 관리 작업을 수행하는 응용 계층 프로토콜

- [관련 본문으로 돌아가기](#7---application-layer)

### reference
- [reference](https://shlee0882.tistory.com/110)
- [reference](https://onecoin-life.com/19)
- [reference](https://dalkomit.tistory.com/136)
- [reference](https://velog.io/@kasran1/OSI-7%EA%B3%84%EC%B8%B5)

